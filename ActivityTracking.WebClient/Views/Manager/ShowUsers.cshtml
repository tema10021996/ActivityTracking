@model ActivityTracking.DomainModel.Group
@{
    ViewBag.Title = "ShowUsers";
    Layout = "~/Views/Shared/_ManagerLayout.cshtml";
}

<div class="panel panel-default">
    <div class="panel-heading">
        <h3 class="text-center">My group</h3>
        <b>MayAbsentTime: @Model.MayAbsentTime</b>
    </div>
    <div class="panel-body">
        <table class="table table-striped table-condensed table-bordered">
            <tr>
                <th class="text-center">User</th>
            </tr>
            @foreach (var user in Model.Users)
            {
                <tr>
                    <td class="text-left">@Html.ActionLink(user.UserName, "ShowUserReport", new { user.Id })</td>               
                </tr>
            }
        </table>
    </div>
</div>
<button type="button" class="btn btn-primary btn-sm" data-toggle="modal" data-target="#changeMayAbsentTime">Change MayAbsentTime</button>
<!-- Modal -->
<div id="changeMayAbsentTime" class="modal fade" role="dialog">
    <div class="modal-dialog">
        <div class="modal-content">
            @using (Html.BeginForm("ChangeGroupMayAbsentTime", "Manager"))
            {
                <div class="modal-header text-center">
                    <button type="button" class="close" data-dismiss="modal">&times;</button>
                    <br>
                    <b class="text-left">Current MayAbsentTime: @Model.MayAbsentTime.Hours hours, @Model.MayAbsentTime.Minutes minutes, @Model.MayAbsentTime.Seconds seconds</b>
                </div>
                <div class="modal-body text-left">
                    <b class="text-center">Change to: </b>
                    <br>
                    @Html.Hidden("Id", Model.Id)
                    @Html.Label("Hours: ")
                    @Html.TextBox("Hours", null, new { style = "width: 50px;"})
                    <br>
                    @Html.Label("Minutes")
                    @Html.TextBox("Minutes", null, new { style = "width: 50px;" })
                    <br>
                    @Html.Label("Seconds")
                    @Html.TextBox("Seconds", null, new { style = "width: 50px;" })
                </div>
                <div class="modal-footer">

                    <input type="submit" class="btn btn-danger btn-sm" value="Change" />
                    <button type="button" class="btn btn-primary btn-sm" data-dismiss="modal">Close</button>

                </div>
            }
        </div>

    </div>
</div>
