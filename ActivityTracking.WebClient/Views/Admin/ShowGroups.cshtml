@model IEnumerable<ActivityTracking.DomainModel.Group>
@{
    ViewBag.Title = "Groups";
    Layout = "~/Views/Shared/_AdminLayout.cshtml";
}

<div class="panel panel-default">
    <div class="panel-heading">
        <h3 class="text-center">All groups</h3>
    </div>
    <div class="panel-body">
        <table class="table table-striped table-condensed table-bordered">
            <tr>
                <th class="text-center">Group</th>
                <th class="text-center">MayAbsentTime</th>
                <th class="text-center">Delete group</th>
            </tr>
            @foreach (var group in Model)
            {              
                <tr>
                    <td>@Html.ActionLink(group.Name, "ShowGroupInfo", new { group.Id })</td>
                    <td>@group.MayAbsentTime</td>
                    <td class="text-center">
                        <button type="button" class="btn btn-primary btn-sm" data-toggle="modal" data-target="#@group.Id">Delete group</button>
                        <!-- Modal -->
                        <div id="@group.Id" class="modal fade" role="dialog">
                            <div class="modal-dialog">
                                <div class="modal-content">
                                    <div class="modal-body text-center">
                                        <button type="button" class="close" data-dismiss="modal">&times;</button>
                                        <h3>Are you sure?</h3>
                                    </div>
                                    <div class="modal-footer">
                                        @using (Html.BeginForm("DeleteGroup", "Admin"))
                                        {
                                            @Html.Hidden("Id", group.Id)
                                            <input type="submit" class="btn btn-danger btn-sm" value="Delete" />
                                            <button type="button" class="btn btn-primary btn-sm" data-dismiss="modal">Close</button>
                                        }
                                    </div>
                                </div>

                            </div>
                        </div>
                    </td>
                </tr>
            }
        </table>
    </div>
</div>

    <button type="button" class="btn btn-primary btn-sm" data-toggle="modal" data-target="#createGroup">Create new group</button>
    <!-- Modal -->
    <div id="createGroup" class="modal fade" role="dialog">
        <div class="modal-dialog">
            <div class="modal-content">
                @using (Html.BeginForm("CreateNewGroup", "Admin"))
                {
                    <div class="modal-body text-center">
                        <button type="button" class="close" data-dismiss="modal">&times;</button>
                        <h3>Creating group</h3>
                        @Html.TextBox("GroupName")
                    </div>
                    <div class="modal-footer">
                                            
                            <input type="submit" class="btn btn-danger btn-sm" value="Create" />
                            <button type="button" class="btn btn-primary btn-sm" data-dismiss="modal">Close</button>
                   
                    </div>
                 }
            </div>

        </div>
    </div>

    <button type="button" class="btn btn-primary btn-sm" data-toggle="modal" data-target="#changeMayAbsentTime">Change MayAbsentTime for all groups</button>
    <!-- Modal -->
    <div id="changeMayAbsentTime" class="modal fade" role="dialog">
        <div class="modal-dialog">
            <div class="modal-content">
                @using (Html.BeginForm("ChangeGroupMayAbsentTime", "Admin"))
                {
                    <div class="modal-header text-center">
                        <button type="button" class="close" data-dismiss="modal">&times;</button>
                        <br>
                        <b>Changing MayAbsentTime for all groups</b>
                    </div>
                    <div class="modal-body text-left">
                        <b class="text-center">Change to: </b>
                        @Html.Label("Hours: ")
                        @Html.TextBox("Hours", null, new { style = "width: 50px;" })
                        <br>
                        @Html.Label("Minutes")
                        @Html.TextBox("Minutes", null, new { style = "width: 50px;" })
                        <br>
                        @Html.Label("Seconds")
                        @Html.TextBox("Seconds", null, new { style = "width: 50px;" })
                    </div>
                    <div class="modal-footer">

                        <input type="submit" class="btn btn-danger btn-sm" value="Change" />
                        <button type="button" class="btn btn-primary btn-sm" data-dismiss="modal">Close</button>

                    </div>
                }
            </div>

        </div>
    </div>

